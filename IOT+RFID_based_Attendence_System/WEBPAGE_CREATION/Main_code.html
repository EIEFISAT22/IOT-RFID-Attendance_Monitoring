<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
 
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <title>attendence manipulation</title>
  <style>
    .bg-image {

  background-image: url("https://scontent-maa2-1.xx.fbcdn.net/v/t1.0-9/52823430_2156453417769717_8448616394001481728_o.jpg?_nc_cat=111&_nc_ohc=6x0tsCunroEAX-hPDij&_nc_ht=scontent-maa2-1.xx&oh=44802bbcc8ccc8590d7bd7063a9334e5&oe=5ED9856A");

  height: 100%; 
  
 
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
}
  
  table {
    background: #012B39;
    border-radius: 0.25em;
    border-collapse: collapse;
    margin: .1em;
  
  }
  th {
    border-bottom: 1px solid #364043;
    color: #e49f15;
    font-size: 1.50em;
    font-weight: 600;
    padding: 0.5em 1em;
   align: center;
  }
  td {
    color: #fff;
    font-weight: 400;
    padding: 0.65em 1em;
  }
  .disabled td {
    color: #4F5F64;
  }
  tbody tr {
    transition: background 0.25s ease;
  }
  tbody tr:hover {
    background: #014055;
  }
  .tab {
  overflow: hidden;
  border: 1px solid #ccc;
  background-color: #5ed2f1;
  opacity: 0.1;
}

/* Style the buttons inside the tab */
.tab button {
  background-color: rgb(117, 219, 171);
  float: left;
  border: none;
  outline: none;
  cursor: pointer;
  padding: 14px 16px;
  transition: 0.3s;
  font-size: 17px;
  opacity: 0.85;
}

/* Change background color of buttons on hover */
.tab button:hover {
  background-color: rgb(58, 122, 141);
  opacity: 0.85;
}

/* Create an active/current tablink class */
.tab button.active {
  background-color: rgb(68, 65, 65);
  opacity: 0.85;
}

/* Style the tab content */
.tabcontent {
  display: none;
  padding: 6px 12px;
  border: 1px solid #ccc;
  border-top: none;
  background-color: grey;
  opacity: 0.85;
  animation: fadeEffect 4s;
}
.topright {
  float: right;
  cursor: pointer;
  font-size: 28px;
}

.topright:hover {color: red;}

  
  
  </style>
</head>
<body class="grey lighten-3">
 
  <nav class="z-depth-0 blue lighten-4">
    <div class="nav-wrapper container">
      <a href="#" class="brand-logo">
        <img src="https://firebasestorage.googleapis.com/v0/b/exp2-fdb15.appspot.com/o/fisat.jpg?alt=media&token=d1d9b5c2-9175-4935-982a-e45822ddd59e" style="width: 50px; margin-top: 10px;">
      <ul id="nav-mobile" class="right hide-on-med-and-down">
          <li class="logged-in" style="display: none;">
            <a href="#" class="black-text modal-trigger" data-target="modal-account"><h5>Account</h5></a>
          </li>
          <li class="logged-in" style="display: none;">
            <a href="#" class="black-text" id="logout"><h5>Logout</h5></a>
          </li>
          <li class="logged-in" style="display: none;">
            <a href="#" class="black-text modal-trigger" data-target="modal-create"><h5>Create Notes</h5></a>
          </li>
          <li class="logged-out" style="display: none;">
            <a href="#" class="black-text modal-trigger" data-target="modal-login"><h5>Login</h5></a>
          </li>
         
        </span>
      </ul>
    </div>
  </nav>
  <div id="modal-signup" class="modal">
    <div class="modal-content">
      <h4>Sign up</h4><br />
      <form id="signup-form">
        <div class="input-field">
          <input type="email" id="signup-email" required />
          <label for="signup-email">Email address</label>
        </div>
        <div class="input-field">
          <input type="password" id="signup-password" required />
          <label for="signup-password">Choose password</label>
        </div>
        <button class="btn yellow darken-2 z-depth-0">Sign up</button>
      </form>
    </div>
  </div>

 
  <div id="modal-login" class="modal">
    <div class="modal-content">
      <h4>Login</h4><br />
      <form id="login-form">
        <div class="input-field">
          <input type="email" id="login-email" required />
          <label for="login-email">Email address</label>
        </div>
        <div class="input-field">
          <input type="password" id="login-password" required />
          <label for="login-password">Your password</label>
        </div>
        <button class="btn yellow darken-2 z-depth-0">Login</button>
      </form>
    </div>
  </div>

  
  <div id="modal-account" class="modal">
    <div class="modal-content center-align">
      <h4>Account details</h4><br />
      <div class="account-details"></div>
    </div>
  </div>


  <div id="modal-create" class="modal">
    <div class="modal-content">
      <h4>Create Guide</h4><br />
      <form id="create-form">
        <div class="input-field">
          <input type="text" id="title" required>
          <label for="title">Guide Title</label>
        </div>
        <div class="input-field">
          <textarea id="content" class="materialize-textarea" required></textarea>
          <label for="content">Guide Content</label>
        </div>
        <button class="btn yellow darken-2 z-depth-0">Create</button>
      </form>
    </div>
  </div>

  <body><div class="bg-image">
    <div id="MyDiv" style="display:none;">
      
      <h4 >Attendence</h4>
    
    
    <div class="tab" style="border: none;opacity: 0.85;">
      <button class="tablinks" onclick="openb(event, 'eie')">EIE</button>
      <button class="tablinks" onclick="openb(event, 'eee')">EEE</button>
      <button class="tablinks" onclick="openb(event, 'cs')">CS</button>
           <button class="tablinks" onclick="openb(event, 'open')">Open</button>
     <p style="color:rgb(0, 0, 0);font-size: 100%;text-align:right;">Date: <span id="datetime"></span></p>
      <script>
        var dt = new Date();
        var dd = (("0"+dt.getDate()).slice(-2)) +"-"+ (("0"+(dt.getMonth()+1)).slice(-2)) +"-"+ (dt.getFullYear())+".csv";
        var st = dt.getDate();
   
        var tt;
        
         
         function downloadCSV(csv, filename) {
           var csvFile;
           var downloadLink;
       
           // CSV file
           csvFile = new Blob([csv], {type: "text/csv"});
       
           // Download link
           downloadLink = document.createElement("a");
       
           // File name
           downloadLink.download = filename;
       
           // Create a link to the file
           downloadLink.href = window.URL.createObjectURL(csvFile);
       
           // Hide download link
           downloadLink.style.display = "none";
       
           // Add the link to DOM
           document.body.appendChild(downloadLink);
       
           // Click download link
           downloadLink.click();
       }
       function exportTableToCSV(filename) {
       var csv = [];
       var rows = document.querySelectorAll("table tr");
       
       for (var i = 0; i < rows.length; i++) {
           var row = [], cols = rows[i].querySelectorAll("td, th");
           
           for (var j = 0; j < cols.length; j++) 
               row.push(cols[j].innerText);
           
           csv.push(row.join(","));        
       }
   
       // Download CSV file
       downloadCSV(csv.join("\n"), filename);
   }
     
   

        var dd = (("0"+dt.getDate()).slice(-2)) +"-"+ (("0"+(dt.getMonth()+1)).slice(-2)) +"-"+ (dt.getFullYear())+".csv";
        document.getElementById("datetime").innerHTML = (("0"+dt.getDate()).slice(-2)) +"-"+ (("0"+(dt.getMonth()+1)).slice(-2)) +"-"+ (dt.getFullYear());
        </script>
    </div>
    
    <div id="eie" class="tabcontent">
      <span onclick="this.parentElement.style.display='none'" class="topright">&times</span>
      <table class="table table-bordered" style="opacity: 0.85;">
        <thead>
          <tr>
            <th>Reg.No</th>
            <th>Student Name</th>
            <th>1st hour</th>
     <th>2nd hour</th>
     <th>3rd hour</th>
     <th>4th hour</th>
     <th>5th hour</th>
     <th>6th hour</th>
     <th>7th hour</th>
     <th>hours present</th>
    
    
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>001</td>
            <td>Abiram</td>
            <td><span id="a" class="logo-small"></td>
    <td><span id="aa" class="logo-small"></td>
    <td><span id="ab" class="logo-small"></td>
    <td><span id="ac" class="logo-small"></td>
    <td><span id="ad" class="logo-small"></td>
    <td><span id="ae" class="logo-small"></td>
    <td><span id="af" class="logo-small"></td>
    <td><span id="ag" class="logo-small"></td>
          </tr>
          <tr>
            <td>002</td>
            <td>Abishek</td>
            <td><span id="b" class="logo-small"></td>
    <td><span id="ba" class="logo-small"></td>
    <td><span id="bb" class="logo-small"></td>
    <td><span id="bc" class="logo-small"></td>
    <td><span id="bd" class="logo-small"></td>
    <td><span id="be" class="logo-small"></td>
    <td><span id="bf" class="logo-small"></td>
    <td><span id="bg" class="logo-small"></td>
          </tr>
          <tr>
            <td>003</td>
            <td>Jonas</td>
            <td><span id="c" class="logo-small"></td>
    <td><span id="ca" class="logo-small"></td>
    <td><span id="cb" class="logo-small"></td>
    <td><span id="cc" class="logo-small"></td>
    <td><span id="cd" class="logo-small"></td>
    <td><span id="ce" class="logo-small"></td>
    <td><span id="cf" class="logo-small"></td>
    <td><span id="cg" class="logo-small"></td>
          </tr>
          <tr>
            <td>004</td>
            <td>Martha</td>
            <td><span id="d" class="logo-small"></td>
    <td><span id="da" class="logo-small"></td>
    <td><span id="db" class="logo-small"></td>
    <td><span id="dc" class="logo-small"></td>
    <td><span id="dd" class="logo-small"></td>
    <td><span id="de" class="logo-small"></td>
    <td><span id="df" class="logo-small"></td>
    <td><span id="dg" class="logo-small"></td>
          </tr>
          <tr>
            <td>005</td>
            <td>Michel</td>
            <td><span id="e" class="logo-small"></td>
    <td><span id="ea" class="logo-small"></td>
    <td><span id="eb" class="logo-small"></td>
    <td><span id="ec" class="logo-small"></td>
    <td><span id="ed" class="logo-small"></td>
    <td><span id="ee" class="logo-small"></td>
    <td><span id="ef" class="logo-small"></td>
    <td><span id="eg" class="logo-small"></td>
          </tr>
        </tbody>
      </table>
      <button onclick="exportTableToCSV(dd)"><h6>Export to csv</h6></button>
      
    </div></body>
    <script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.6.2/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-firestore.js"></script>
    <script>
     $(document).ready(function(){
      $(".slideanim").addClass("slide");
     $(document).ready(function(){
     
      
      $(".slideanim").addClass("slide");
             });
     $(document).ready(function(){
     
      
      $(".slideanim").addClass("slide");
             });
    
     });
    
       var config = {
         apiKey: "AIzaSyD1DATjQLjvJshFhMIJOeUjixyzWI_M8ck",
    authDomain: "exp2-fdb15.firebaseapp.com",
    databaseURL: "https://exp2-fdb15.firebaseio.com/",
    
       };
       firebase.initializeApp(config);
     
       
       var database = firebase.database();
     console.log(database);
     
     ref = firebase.database().ref('noaha');
     ref.on('value', function(snapshot) {
     data = snapshot.val();
     $("#a").html(data.a);
     $("#aa").html(data.aa);
     $("#ab").html(data.ab);
     $("#ac").html(data.ac);
     $("#ad").html(data.ad);
     $("#ae").html(data.ae);
     $("#af").html(data.af);
     $("#ag").html(data.ag);
     
     });
     ref = firebase.database().ref('adam');
     ref.on('value', function(snapshot) {
     data = snapshot.val();
     $("#b").html(data.b);
     $("#ba").html(data.ba);
     $("#bb").html(data.bb);
     $("#bc").html(data.bc);
     $("#bd").html(data.bd);
     $("#be").html(data.be);
     $("#bf").html(data.bf);
     $("#bg").html(data.bg);
     
     });
     ref = firebase.database().ref('jonas');
     ref.on('value', function(snapshot) {
     data = snapshot.val();
     $("#c").html(data.c);
     $("#ca").html(data.ca);
     $("#cb").html(data.cb);
     $("#cc").html(data.cc);
     $("#cd").html(data.cd);
     $("#ce").html(data.ce);
     $("#cf").html(data.cf);
     $("#cg").html(data.cg);
     
     });
     ref = firebase.database().ref('martha');
     ref.on('value', function(snapshot) {
     data = snapshot.val();
     $("#d").html(data.d);
     $("#da").html(data.da);
     $("#db").html(data.db);
     $("#dc").html(data.dc);
     $("#dd").html(data.dd);
     $("#de").html(data.de);
     $("#df").html(data.df);
     $("#dg").html(data.dg);
     
     });
     ref = firebase.database().ref('michel');
     ref.on('value', function(snapshot) {
     data = snapshot.val();
     $("#e").html(data.e);
     $("#ea").html(data.ea);
     $("#eb").html(data.eb);
     $("#ec").html(data.ec);
     $("#ed").html(data.ed);
     $("#ee").html(data.ee);
     $("#ef").html(data.ef);
     $("#eg").html(data.eg);
     
     });
     </script>
     
    
 
    
    <div id="eee" class="tabcontent">
      <span onclick="this.parentElement.style.display='none'" class="topright">&times</span>  
      <h3>EEE</h3>
   
    </div>
    
    <div id="cs" class="tabcontent">
      <span onclick="this.parentElement.style.display='none'" class="topright">&times</span>
      <h3>CS</h3>
      
    </div>

      <div id="open" class="tabcontent">
      <span onclick="this.parentElement.style.display='none'" class="topright">&times</span>
      <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
      <script type="text/javascript">
          $(function () {
              $("#upload").bind("click", function () {
                  var regex = /^([a-zA-Z0-9()\s_\\.\-:])+(.csv|.txt)$/;
                  if (regex.test($("#fileUpload").val().toLowerCase())) {
                      if (typeof (FileReader) != "undefined") {
                          var reader = new FileReader();
                          reader.onload = function (e) {
                              var table = $("<table />");
                              var rows = e.target.result.split("\n");
                              for (var i = 0; i < rows.length; i++) {
                                  var row = $("<tr />");
                                  var cells = rows[i].split(",");
                                  if (cells.length > 1) {
                                      for (var j = 0; j < cells.length; j++) {
                                          var cell = $("<td />");
                                          cell.html(cells[j]);
                                          row.append(cell);
                                      }
                                      table.append(row);
                                  }
                              }
                              $("#dvCSV").html('');
                              $("#dvCSV").append(table);
                          }
                          reader.readAsText($("#fileUpload")[0].files[0]);
                      } else {
                          alert("This browser does not support HTML5.");
                      }
                  } else {
                      alert("Please upload a valid CSV file.");
                  }
              });
          });
      </script>
      <input type="file" id="fileUpload" />
      <input type="button" id="upload" value="Upload" />
      <hr />
      <div id="dvCSV">
      </div>
      
    </div>
    
    <script>
    function openb(evt, bName) {
      var i, tabcontent, tablinks;
      tabcontent = document.getElementsByClassName("tabcontent");
      for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
      }
      tablinks = document.getElementsByClassName("tablinks");
      for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
      }
      document.getElementById(bName).style.display = "block";
      evt.currentTarget.className += " active";
    }
    </script>
    <h4 align=center style="color:rgb(20, 30, 32);">Notes</h4>
  </div>
 <div class="container" style="margin-top: 20px;">
    <ul class="collapsible z-depth-0 guides" style="border: none;opacity: 0.85;color: rgb(96, 126, 136);">
     </ul>
    
</div>

  
  
</div>
</div></div>
<script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.6.2/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-firestore.js"></script>

<script>
  var firebaseConfig = {
    apiKey: "AIzaSyD1DATjQLjvJshFhMIJOeUjixyzWI_M8ck",
    authDomain: "exp2-fdb15.firebaseapp.com",
    databaseURL: "https://exp2-fdb15.firebaseio.com/",
    projectId: "exp2-fdb15",
  };
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
    const db = firebase.firestore();
    db.settings({ timestampsInSnapshots: true });
</script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <script language ="javascript" type="text/javascript" src="https://firebasestorage.googleapis.com/v0/b/exp2-fdb15.appspot.com/o/index.js?alt=media&token=57a8a8cc-d277-4f81-b892-33cf54b3a2a2"></script>

  <script language ="javascript" type="text/javascript" src="https://firebasestorage.googleapis.com/v0/b/exp2-fdb15.appspot.com/o/auth.js?alt=media&token=d07a752f-1d13-4c7f-b063-9f71c344e235"></script>

  <script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-firestore.js"></script>

</body>

</html>
